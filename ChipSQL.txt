
CREATE TABLE Teacher
(
  teach_ID INT NOT NULL AUTO_INCREMENT,
  Name VARCHAR(50) NOT NULL,
  username VARCHAR(15) NOT NULL,
  password VARCHAR(50) NOT NULL,
  PRIMARY KEY (teach_ID)
);

CREATE TABLE Survey
(
  Name VARCHAR(20) NOT NULL,
  Surv_ID INT NOT NULL AUTO_INCREMENT,
  Date DATE NOT NULL,
  PRIMARY KEY (Surv_ID)
);

CREATE TABLE Question
(
  Q_ID INT NOT NULL AUTO_INCREMENT,
  Q_text TEXT NOT NULL,
  option1 VARCHAR(100) NOT NULL,
  option2 VARCHAR(100) NOT NULL,
  option3 VARCHAR(100) NOT NULL,
  option4 VARCHAR(100) NOT NULL,
  Surv_ID INT NOT NULL,
  PRIMARY KEY (Q_ID),
  FOREIGN KEY (Surv_ID) REFERENCES Survey(Surv_ID)
);

CREATE TABLE Student
(
  S_ID INT NOT NULL AUTO_INCREMENT,
  fName VARCHAR(20) NOT NULL,
  AVG_Grade INT NOT NULL,
  teach_ID INT NOT NULL,
  username VARCHAR(20) NOT NULL,
  password VARCHAR(50) NOT NULL,
  lName VARCHAR(20) NOT NULL,
  PRIMARY KEY (S_ID),
  FOREIGN KEY (teach_ID) REFERENCES Teacher(teach_ID)
);

CREATE TABLE Responses
(
  Student_Answer VARCHAR(100) NOT NULL,
  Q_ID INT NOT NULL,
  S_ID INT NOT NULL,
  R_id INT NOT NULL AUTO_INCREMENT,
  Surv_ID INT NOT NULL,
  PRIMARY KEY (R_id),
  FOREIGN KEY (Q_ID) REFERENCES Question(Q_ID),
  FOREIGN KEY (S_ID) REFERENCES Student(S_ID), 
  FOREIGN KEY (Surv_ID) REFERENCES Survey(Surv_ID)
);

CREATE TABLE Answers
(
  S_ID INT NOT NULL,
  R_id INT NOT NULL,
  PRIMARY KEY (S_ID, R_id),
  FOREIGN KEY (S_ID) REFERENCES Student(S_ID),
  FOREIGN KEY (R_id) REFERENCES Responses(R_id)
);